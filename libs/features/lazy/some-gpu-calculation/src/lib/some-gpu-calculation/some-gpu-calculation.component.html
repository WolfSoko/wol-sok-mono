<mat-card appearance="raised" wsSharedUiElevateCard class="gpu-card">
  <mat-card-title>
    <mat-card-title>An example utilizing gpu.js</mat-card-title>
    <mat-card-subtitle>
      No complicated shader code needed for this. Use toggle to switch between
      GPU and CPU rendering.
    </mat-card-subtitle>
  </mat-card-title>
  <div class="canvas-with-fps">
    <div
      #gpuCanvasContainer
      class="canvas-container"
      (wsSharedUiElemResized)="updateCanvasSize($event)"
      [debounceTime]="500"
    ></div>
    <ws-shared-ui-show-fps
      class="fps"
      [fps]="(fps$ | async) ?? 0"
      [show]="true"
    ></ws-shared-ui-show-fps>
  </div>
  <div>
    Calculation time with
    {{ additionForm.get('useGPU')?.value ? 'GPU' : 'CPU' }} :
    {{ calculationTime$ | async }}ms
  </div>
  <mat-card-content>
    <form class="gpu-form" [formGroup]="additionForm" novalidate>
      <div class="full-width">
        <span>Red</span>
        <mat-slider
          class="red-color-slider"
          discrete
          min="0"
          max="255"
          color="warn"
          ><input matSliderThumb formControlName="r" />
        </mat-slider>
        <mat-chip-option class="value-of-slider" color="warn">{{
          additionForm.get('r')?.value
        }}</mat-chip-option>
      </div>
      <div class="full-width">
        <span>Green</span>
        <mat-slider
          class="green-color-slider"
          discrete
          min="0"
          max="255"
          color="warn"
          ><input matSliderThumb formControlName="g" />
        </mat-slider>
        <mat-chip-option class="value-of-slider" color="warn">{{
          additionForm.get('g')?.value
        }}</mat-chip-option>
      </div>
      <div class="full-width">
        <span>Blue</span>
        <mat-slider
          class="blue-color-slider"
          discrete
          min="0"
          max="255"
          color="warn"
          ><input matSliderThumb formControlName="b" />
        </mat-slider>
        <mat-chip-option class="value-of-slider" color="warn">{{
          additionForm.get('b')?.value
        }}</mat-chip-option>
      </div>
      <div class="full-width">
        <span>Repetition</span>
        <mat-slider discrete min="1" max="100"
          ><input matSliderThumb formControlName="repetition" />
        </mat-slider>
        <mat-chip-option color="accent" class="value-of-slider">{{
          additionForm.get('repetition')?.value
        }}</mat-chip-option>
      </div>
      <div class="full-width">
        <span>Speed</span>
        <mat-slider discrete min="1" max="100"
          ><input matSliderThumb formControlName="speed" />
        </mat-slider>
        <mat-chip-option class="value-of-slider" color="accent"
          >{{ additionForm.get('speed')?.value }}%
        </mat-chip-option>
      </div>
      <mat-slide-toggle formControlName="useGPU">
        {{
          additionForm.get('useGPU')?.value ? 'GPU is used' : 'GPU is not used'
        }}
      </mat-slide-toggle>
    </form>
  </mat-card-content>
</mat-card>
