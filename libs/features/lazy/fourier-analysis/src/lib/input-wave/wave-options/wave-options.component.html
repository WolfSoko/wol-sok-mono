<form *ngIf="waveOptions$ | async as waveOptions" [formGroup]="form">
  <div formArrayName="frequencies">
    <p>Frequencies:</p>
    <div *ngFor="let frequency of frequencies?.controls; let i = index">
      <!-- TODO: The 'vertical' property no longer exists -->
      <mat-slider
        class="config-slider"
        [max]="500"
        [min]="20"
        [step]="1"
        [formControlName]="i"
      ><input matSliderThumb/>
      </mat-slider>
      <span>
        <button color="warn" mat-icon-button (click)="removeFrequency(i)">
          <mat-icon>remove</mat-icon>
        </button>
        <span>{{ frequency?.value }} Hz</span>
      </span>
    </div>
    <button mat-button (click)="addFrequency()">Add frequency</button>
  </div>
  <div>
    <!-- TODO: The 'vertical' property no longer exists -->
    <mat-slider
      class="config-slider"
      [max]="5000"
      [min]="200"
      [step]="1"
      formControlName="lengthInMs"
    ><input matSliderThumb />
    </mat-slider>
    <span>Duration in ms : {{ waveOptions.lengthInMs }}</span>
  </div>
  <div>
    <mat-slider
      class="config-slider"
      [max]="10000"
      [min]="3000"
      [step]="100"
      formControlName="samplesPerSec"
    ><input matSliderThumb />
    </mat-slider>
    <span>Sample rate: {{ waveOptions.samplesPerSec }}</span>
  </div>
</form>
